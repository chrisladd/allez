# Allez

Allez puts things up in s3, simply.


## Usage

```
const allez = require('@cgl2/allez');

allez.upload(filepath, bucket, {
    folder: 'allez'
}, function(url, error){
    console.log(url);
})

// the upload method is aliased to `oop`. just for fun.
allez.oop(dirpath, bucket, null, function(url, error){
    console.log(url);
})

// options and callback are optional
allez.oop(filepath, bucket)
```

## CLI

For quick uploads, you can add an alias to the `upload` script in the `cli` folder:

`alias allez='node ~/dev/allez/cli/upload.js'`

Usage:
`allez LOCALPATH FOLDER BUCKET`

Folder and bucket are both optional. So, for example:
`allez file.png` 

is all you need to upload an image in the current directory to the default bucket.

## Members

<dl>
<dt><a href="#oop">oop</a></dt>
<dd><p>a fun alias for <code>upload</code></p>
</dd>
</dl>

## Functions

<dl>
<dt><a href="#upload">upload(fileOrDirectoryPath, bucket, options, completion)</a></dt>
<dd><p>Uploads a file, or the contents of a directory to s3</p>
</dd>
</dl>

## Typedefs

<dl>
<dt><a href="#uploadCompletion">uploadCompletion</a> : <code>function</code></dt>
<dd><p>A completion to fire on success, or failure, pushing items to s3.</p>
</dd>
</dl>

<a name="oop"></a>

## oop
a fun alias for `upload`

**Kind**: global variable  
<a name="upload"></a>

## upload(fileOrDirectoryPath, bucket, options, completion)
Uploads a file, or the contents of a directory to s3

**Kind**: global function  

| Param | Type | Description |
| --- | --- | --- |
| fileOrDirectoryPath | <code>string</code> | the relative path to the file or directory. If it's a directory, its contents will be uploaded. If it's a file, the file itself will be uploaded. |
| bucket | <code>string</code> | the bucket to push to |
| options | <code>Object</code> | options to control upload |
| options.folder | <code>string</code> | the remote directory to push content to |
| options.acl | <code>string</code> | the acl to apply. `public-read` by default |
| options.name | <code>string</code> | the remote name to use for this file. If none is supplied, the file will have the same name as the local file. |
| options.deleteRemoved | <code>boolean</code> | in the case of directory uploads, setting this option to `true` will delete any remote files not present in the local folder. `false` by default. |
| options.s3Options | <code>Object</code> | s3Options to pass to the s3 client. This contains `accessKeyId` and `secretAccessKey`, to allow you to customize your credentials. By default, allez will use the default s3 credentials on your machine. |
| completion | [<code>uploadCompletion</code>](#uploadCompletion) | a completion to fire once done |

<a name="uploadCompletion"></a>

## uploadCompletion : <code>function</code>
A completion to fire on success, or failure, pushing items to s3.

**Kind**: global typedef  

| Param | Type |
| --- | --- |
| url | <code>string</code> | 
| error | <code>Object</code> | 

> This file is automatically generated. See `g_docs.js` to make additions.